(function(w,s,E){s.mock={};s.mock.$BrowserProvider=function(){this.$get=function(){return new s.mock.$Browser()}};s.mock.$Browser=function(){var a=this;this.isMock=true;a.$$url="http://server/";a.$$lastUrl=a.$$url;a.pollFns=[];a.$$completeOutstandingRequest=s.noop;a.$$incOutstandingRequestCount=s.noop;a.onUrlChange=function(b){a.pollFns.push(function(){if(a.$$lastUrl!==a.$$url||a.$$state!==a.$$lastState){a.$$lastUrl=a.$$url;a.$$lastState=a.$$state;b(a.$$url,a.$$state)}});return b};a.$$applicationDestroyed=s.noop;a.$$checkUrlChange=s.noop;a.deferredFns=[];a.deferredNextId=0;a.defer=function(b,c){c=c||0;a.deferredFns.push({time:(a.defer.now+c),fn:b,id:a.deferredNextId});a.deferredFns.sort(function(d,e){return d.time-e.time});return a.deferredNextId++};a.defer.now=0;a.defer.cancel=function(b){var c;s.forEach(a.deferredFns,function(d,e){if(d.id===b){c=e}});if(c!==E){a.deferredFns.splice(c,1);return true}return false};a.defer.flush=function(b){if(s.isDefined(b)){a.defer.now+=b}else{if(a.deferredFns.length){a.defer.now=a.deferredFns[a.deferredFns.length-1].time}else{throw new Error("No deferred tasks to be flushed")}}while(a.deferredFns.length&&a.deferredFns[0].time<=a.defer.now){a.deferredFns.shift().fn()}};a.$$baseHref="/";a.baseHref=function(){return this.$$baseHref}};s.mock.$Browser.prototype={poll:function t(){s.forEach(this.pollFns,function(a){a()})},url:function(c,b,a){if(s.isUndefined(a)){a=null}if(c){this.$$url=c;this.$$state=s.copy(a);return this}return this.$$url},state:function(){return this.$$state},notifyWhenNoOutstandingRequests:function(a){a()}};s.mock.$ExceptionHandlerProvider=function(){var a;this.mode=function(c){switch(c){case"log":case"rethrow":var b=[];a=function(d){if(arguments.length==1){b.push(d)}else{b.push([].slice.call(arguments,0))}if(c==="rethrow"){throw d}};a.errors=b;break;default:throw new Error("Unknown mode '"+c+"', only 'log'/'rethrow' modes are allowed!")}};this.$get=function(){return a};this.mode("rethrow")};s.mock.$LogProvider=function(){var b=true;function a(c,d,e){return c.concat(Array.prototype.slice.call(d,e))}this.debugEnabled=function(c){if(s.isDefined(c)){b=c;return this}else{return b}};this.$get=function(){var c={log:function(){c.log.logs.push(a([],arguments,0))},warn:function(){c.warn.logs.push(a([],arguments,0))},info:function(){c.info.logs.push(a([],arguments,0))},error:function(){c.error.logs.push(a([],arguments,0))},debug:function(){if(b){c.debug.logs.push(a([],arguments,0))}}};c.reset=function(){c.log.logs=[];c.info.logs=[];c.warn.logs=[];c.error.logs=[];c.debug.logs=[]};c.assertEmpty=function(){var d=[];s.forEach(["error","warn","info","log","debug"],function(e){s.forEach(c[e].logs,function(f){s.forEach(f,function(g){d.push("MOCK $log ("+e+"): "+String(g)+"\n"+(g.stack||""))})})});if(d.length){d.unshift("Expected $log to be empty! Either a message was logged unexpectedly, or an expected log message was not checked and removed:");d.push("");throw new Error(d.join("\n---------\n"))}};c.reset();return c}};s.mock.$IntervalProvider=function(){this.$get=["$browser","$rootScope","$q","$$q",function(g,h,d,f){var b=[],e=0,c=0;var a=function(J,k,L,i){var l=arguments.length>4,K=l?Array.prototype.slice.call(arguments,4):[],n=0,m=(s.isDefined(i)&&!i),p=(m?f:d).defer(),o=p.promise;L=(s.isDefined(L))?L:0;o.then(null,null,(!l)?J:function(){J.apply(null,K)});o.$$intervalId=e;function j(){p.notify(n++);if(L>0&&n>=L){var G;p.resolve(n);s.forEach(b,function(H,I){if(H.id===o.$$intervalId){G=I}});if(G!==E){b.splice(G,1)}}if(m){g.defer.flush()}else{h.$apply()}}b.push({nextTime:(c+k),delay:k,fn:j,id:e,deferred:p});b.sort(function(G,H){return G.nextTime-H.nextTime});e++;return o};a.cancel=function(i){if(!i){return false}var j;s.forEach(b,function(l,k){if(l.id===i.$$intervalId){j=k}});if(j!==E){b[j].deferred.reject("canceled");b.splice(j,1);return true}return false};a.flush=function(i){c+=i;while(b.length&&b[0].nextTime<=c){var j=b[0];j.fn();j.nextTime+=j.delay;b.sort(function(l,k){return l.nextTime-k.nextTime})}return i};return a}]};var B=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?:\:?(\d\d)(?:\:?(\d\d)(?:\.(\d{3}))?)?)?(Z|([+-])(\d\d):?(\d\d)))?$/;function D(a){var b;if(b=a.match(B)){var c=new Date(0),d=0,e=0;if(b[9]){d=x(b[9]+b[10]);e=x(b[9]+b[11])}c.setUTCFullYear(x(b[1]),x(b[2])-1,x(b[3]));c.setUTCHours(x(b[4]||0)-d,x(b[5]||0)-e,x(b[6]||0),x(b[7]||0));return c}return a}function x(a){return parseInt(a,10)}function r(c,b,d){var a="";if(c<0){a="-";c=-c}c=""+c;while(c.length<b){c="0"+c}if(d){c=c.substr(c.length-b)}return a+c}s.mock.TzDate=function(a,c){var f=new Date(0);if(s.isString(c)){var e=c;f.origDate=D(c);c=f.origDate.getTime();if(isNaN(c)){throw {name:"Illegal Argument",message:"Arg '"+e+"' passed into TzDate constructor is not a valid date string"}}}else{f.origDate=new Date(c)}var b=new Date(c).getTimezoneOffset();f.offsetDiff=b*60*1000-a*1000*60*60;f.date=new Date(c+f.offsetDiff);f.getTime=function(){return f.date.getTime()-f.offsetDiff};f.toLocaleDateString=function(){return f.date.toLocaleDateString()};f.getFullYear=function(){return f.date.getFullYear()};f.getMonth=function(){return f.date.getMonth()};f.getDate=function(){return f.date.getDate()};f.getHours=function(){return f.date.getHours()};f.getMinutes=function(){return f.date.getMinutes()};f.getSeconds=function(){return f.date.getSeconds()};f.getMilliseconds=function(){return f.date.getMilliseconds()};f.getTimezoneOffset=function(){return a*60};f.getUTCFullYear=function(){return f.origDate.getUTCFullYear()};f.getUTCMonth=function(){return f.origDate.getUTCMonth()};f.getUTCDate=function(){return f.origDate.getUTCDate()};f.getUTCHours=function(){return f.origDate.getUTCHours()};f.getUTCMinutes=function(){return f.origDate.getUTCMinutes()};f.getUTCSeconds=function(){return f.origDate.getUTCSeconds()};f.getUTCMilliseconds=function(){return f.origDate.getUTCMilliseconds()};f.getDay=function(){return f.date.getDay()};if(f.toISOString){f.toISOString=function(){return r(f.origDate.getUTCFullYear(),4)+"-"+r(f.origDate.getUTCMonth()+1,2)+"-"+r(f.origDate.getUTCDate(),2)+"T"+r(f.origDate.getUTCHours(),2)+":"+r(f.origDate.getUTCMinutes(),2)+":"+r(f.origDate.getUTCSeconds(),2)+"."+r(f.origDate.getUTCMilliseconds(),3)+"Z"}}var d=["getUTCDay","getYear","setDate","setFullYear","setHours","setMilliseconds","setMinutes","setMonth","setSeconds","setTime","setUTCDate","setUTCFullYear","setUTCHours","setUTCMilliseconds","setUTCMinutes","setUTCMonth","setUTCSeconds","setYear","toDateString","toGMTString","toJSON","toLocaleFormat","toLocaleString","toLocaleTimeString","toSource","toString","toTimeString","toUTCString","valueOf"];s.forEach(d,function(g){f[g]=function(){throw new Error("Method '"+g+"' is not implemented in the TzDate mock")}});return f};s.mock.TzDate.prototype=Date.prototype;s.mock.animate=s.module("ngAnimateMock",["ng"]).config(["$provide",function(a){var b=[];a.value("$$animateReflow",function(d){var e=b.length;b.push(d);return function c(){b.splice(e,1)}});a.decorator("$animate",["$delegate","$$asyncCallback","$timeout","$browser","$$rAF",function(f,c,e,h,d){var g={queue:[],cancel:f.cancel,enabled:f.enabled,triggerCallbackEvents:function(){d.flush();c.flush()},triggerCallbackPromise:function(){e.flush(0)},triggerCallbacks:function(){this.triggerCallbackEvents();this.triggerCallbackPromise()},triggerReflow:function(){s.forEach(b,function(i){i()});b=[]}};s.forEach(["animate","enter","leave","move","addClass","removeClass","setClass"],function(i){g[i]=function(){g.queue.push({event:i,element:arguments[0],options:arguments[arguments.length-1],args:arguments});return f[i].apply(f,arguments)}});return g}])}]);s.mock.dump=function(c){return b(c);function b(d){var e;if(s.isElement(d)){d=s.element(d);e=s.element("<div></div>");s.forEach(d,function(f){e.append(s.element(f).clone())});e=e.html()}else{if(s.isArray(d)){e=[];s.forEach(d,function(f){e.push(b(f))});e="[ "+e.join(", ")+" ]"}else{if(s.isObject(d)){if(s.isFunction(d.$eval)&&s.isFunction(d.$apply)){e=a(d)}else{if(d instanceof Error){e=d.stack||(""+d.name+": "+d.message)}else{e=s.toJson(d,true)}}}else{e=String(d)}}}return e}function a(f,e){e=e||"  ";var g=[e+"Scope("+f.$id+"): {"];for(var h in f){if(Object.prototype.hasOwnProperty.call(f,h)&&!h.match(/^(\$|this)/)){g.push("  "+h+": "+s.toJson(f[h]))}}var d=f.$$childHead;while(d){g.push(a(d,e+"  "));d=d.$$nextSibling}g.push("}");return g.join("\n"+e)}};s.mock.$HttpBackendProvider=function(){this.$get=["$rootScope","$timeout",y]};function y(e,k,j,c){var d=[],l=[],g=[],i=s.bind(g,g.push),b=s.copy;function h(p,o,m,n){if(s.isFunction(p)){return p}return function(){return s.isNumber(p)?[p,o,m,n]:[200,p,o,m]}}function f(n,m,T,Q,X,R,V){var p=new A(),Z=l[0],S=false;function W(G){return(s.isString(G)||s.isFunction(G)||G instanceof RegExp)?G:s.toJson(G)}function o(I){if(!c&&R){R.then?R.then(G):k(G,R)}return H;function H(){var J=I.response(n,m,T,X);p.$$respHeaders=J[2];Q(b(J[0]),b(J[1]),p.getAllResponseHeaders(),b(J[3]||""))}function G(){for(var K=0,J=g.length;K<J;K++){if(g[K]===H){g.splice(K,1);Q(-1,E,"");break}}}}if(Z&&Z.match(n,m)){if(!Z.matchData(T)){throw new Error("Expected "+Z+" with different data\nEXPECTED: "+W(Z.data)+"\nGOT:      "+T)}if(!Z.matchHeaders(X)){throw new Error("Expected "+Z+" with different headers\nEXPECTED: "+W(Z.headers)+"\nGOT:      "+W(X))}l.shift();if(Z.response){g.push(o(Z));return}S=true}var U=-1,Y;while((Y=d[++U])){if(Y.match(n,m,T,X||{})){if(Y.response){(c?c.defer:i)(o(Y))}else{if(Y.passThrough){j(n,m,T,Q,X,R,V)}else{throw new Error("No response defined !")}}return}}throw S?new Error("No response defined !"):new Error("Unexpected request: "+n+" "+m+"\n"+(Z?"Expected "+Z:"No more request expected"))}f.when=function(m,J,o,n){var p=new C(m,J,o,n),I={respond:function(N,M,G,H){p.passThrough=E;p.response=h(N,M,G,H);return I}};if(c){I.passThrough=function(){p.response=E;p.passThrough=true;return I}}d.push(p);return I};a("when");f.expect=function(m,I,o,n){var J=new C(m,I,o,n),p={respond:function(N,M,G,H){J.response=h(N,M,G,H);return p}};l.push(J);return p};a("expect");f.flush=function(n,m){if(m!==false){e.$digest()}if(!g.length){throw new Error("No pending request to flush !")}if(s.isDefined(n)&&n!==null){while(n--){if(!g.length){throw new Error("No more pending request to flush !")}g.shift()()}}else{while(g.length){g.shift()()}}f.verifyNoOutstandingExpectation(m)};f.verifyNoOutstandingExpectation=function(m){if(m!==false){e.$digest()}if(l.length){throw new Error("Unsatisfied requests: "+l.join(", "))}};f.verifyNoOutstandingRequest=function(){if(g.length){throw new Error("Unflushed requests: "+g.length)}};f.resetExpectations=function(){l.length=0;g.length=0};return f;function a(m){s.forEach(["GET","DELETE","JSONP","HEAD"],function(n){f[m+n]=function(p,o){return f[m](n,p,E,o)}});s.forEach(["PUT","POST","PATCH"],function(n){f[m+n]=function(H,p,o){return f[m](n,H,p,o)}})}}function C(a,d,c,b){this.data=c;this.headers=b;this.match=function(g,f,h,e){if(a!=g){return false}if(!this.matchUrl(f)){return false}if(s.isDefined(h)&&!this.matchData(h)){return false}if(s.isDefined(e)&&!this.matchHeaders(e)){return false}return true};this.matchUrl=function(e){if(!d){return true}if(s.isFunction(d.test)){return d.test(e)}if(s.isFunction(d)){return d(e)}return d==e};this.matchHeaders=function(e){if(s.isUndefined(b)){return true}if(s.isFunction(b)){return b(e)}return s.equals(b,e)};this.matchData=function(e){if(s.isUndefined(c)){return true}if(c&&s.isFunction(c.test)){return c.test(e)}if(c&&s.isFunction(c)){return c(e)}if(c&&!s.isString(c)){return s.equals(s.fromJson(s.toJson(c)),s.fromJson(e))}return c==e};this.toString=function(){return a+" "+d}}function z(){return new A()}function A(){A.$$lastInstance=this;this.open=function(a,c,b){this.$$method=a;this.$$url=c;this.$$async=b;this.$$reqHeaders={};this.$$respHeaders={}};this.send=function(a){this.$$data=a};this.setRequestHeader=function(b,a){this.$$reqHeaders[b]=a};this.getResponseHeader=function(b){var a=this.$$respHeaders[b];if(a){return a}b=s.lowercase(b);a=this.$$respHeaders[b];if(a){return a}a=E;s.forEach(this.$$respHeaders,function(d,c){if(!a&&s.lowercase(c)==b){a=d}});return a};this.getAllResponseHeaders=function(){var a=[];s.forEach(this.$$respHeaders,function(b,c){a.push(c+": "+b)});return a.join("\n")};this.abort=s.noop}s.mock.$TimeoutDecorator=["$delegate","$browser",function(a,c){a.flush=function(d){c.defer.flush(d)};a.verifyNoPendingTasks=function(){if(c.deferredFns.length){throw new Error("Deferred tasks to flush ("+c.deferredFns.length+"): "+b(c.deferredFns))}};function b(d){var e=[];s.forEach(d,function(f){e.push("{id: "+f.id+", time: "+f.time+"}")});return e.join(", ")}return a}];s.mock.$RAFDecorator=["$delegate",function(a){var c=[];var b=function(d){var e=c.length;c.push(d);return function(){c.splice(e,1)}};b.supported=a.supported;b.flush=function(){if(c.length===0){throw new Error("No rAF callbacks present")}var d=c.length;for(var e=0;e<d;e++){c[e]()}c=c.slice(e)};return b}];s.mock.$AsyncCallbackDecorator=["$delegate",function(c){var b=[];var a=function(d){b.push(d)};a.flush=function(){s.forEach(b,function(d){d()});b=[]};return a}];s.mock.$RootElementProvider=function(){this.$get=function(){return s.element("<div ng-app></div>")}};s.mock.$ControllerDecorator=["$delegate",function(a){return function(b,c,f,d){if(f&&typeof f==="object"){var e=a(b,c,true,d);s.extend(e.instance,f);return e()}return a(b,c,f,d)}}];s.module("ngMock",["ng"]).provider({$browser:s.mock.$BrowserProvider,$exceptionHandler:s.mock.$ExceptionHandlerProvider,$log:s.mock.$LogProvider,$interval:s.mock.$IntervalProvider,$httpBackend:s.mock.$HttpBackendProvider,$rootElement:s.mock.$RootElementProvider}).config(["$provide",function(a){a.decorator("$timeout",s.mock.$TimeoutDecorator);a.decorator("$$rAF",s.mock.$RAFDecorator);a.decorator("$$asyncCallback",s.mock.$AsyncCallbackDecorator);a.decorator("$rootScope",s.mock.$RootScopeDecorator);a.decorator("$controller",s.mock.$ControllerDecorator)}]);s.module("ngMockE2E",["ng"]).config(["$provide",function(a){a.decorator("$httpBackend",s.mock.e2e.$httpBackendDecorator)}]);s.mock.e2e={};s.mock.e2e.$httpBackendDecorator=["$rootScope","$timeout","$delegate","$browser",y];s.mock.$RootScopeDecorator=["$delegate",function(c){var b=Object.getPrototypeOf(c);b.$countChildScopes=a;b.$countWatchers=d;return c;function a(){var f=0;var e=[this.$$childHead];var g;while(e.length){g=e.shift();while(g){f+=1;e.push(g.$$childHead);g=g.$$nextSibling}}return f}function d(){var f=this.$$watchers?this.$$watchers.length:0;var e=[this.$$childHead];var g;while(e.length){g=e.shift();while(g){f+=g.$$watchers?g.$$watchers.length:0;e.push(g.$$childHead);g=g.$$nextSibling}}return f}}];if(w.jasmine||w.mocha){var q=null,u=[],v=function(){return !!q};s.mock.$$annotate=s.injector.$$annotate;s.injector.$$annotate=function(a){if(typeof a==="function"&&!a.$inject){u.push(a)}return s.mock.$$annotate.apply(this,arguments)};(w.beforeEach||w.setup)(function(){u=[];q=this});(w.afterEach||w.teardown)(function(){var a=q.$injector;u.forEach(function(b){delete b.$inject});s.forEach(q.$modules,function(b){if(b&&b.$$hashKey){b.$$hashKey=E}});q.$injector=null;q.$modules=null;q=null;if(a){a.get("$rootElement").off()}s.forEach(s.element.fragments,function(b,c){delete s.element.fragments[c]});A.$$lastInstance=null;s.forEach(s.callbacks,function(b,c){delete s.callbacks[c]});s.callbacks.counter=0});w.module=s.mock.module=function(){var b=Array.prototype.slice.call(arguments,0);return v()?a():a;function a(){if(q.$injector){throw new Error("Injector already created, can not register a module!")}else{var c=q.$modules||(q.$modules=[]);s.forEach(b,function(d){if(s.isObject(d)&&!s.isArray(d)){c.push(function(e){s.forEach(d,function(f,g){e.value(g,f)})})}else{c.push(d)}})}}};var F=function(a,b){this.message=a.message;this.name=a.name;if(a.line){this.line=a.line}if(a.sourceId){this.sourceId=a.sourceId}if(a.stack&&b){this.stack=a.stack+"\n"+b.stack}if(a.stackArray){this.stackArray=a.stackArray}};F.prototype.toString=Error.prototype.toString;w.inject=s.mock.inject=function(){var c=Array.prototype.slice.call(arguments,0);var a=new Error("Declaration Location");return v()?b.call(q):b;function b(){var h=q.$modules||[];var e=!!q.$injectorStrict;h.unshift("ngMock");h.unshift("ng");var i=q.$injector;if(!i){if(e){s.forEach(h,function(j){if(typeof j==="function"){s.injector.$$annotate(j)}})}i=q.$injector=s.injector(h,e);q.$injectorStrict=e}for(var g=0,f=c.length;g<f;g++){if(q.$injectorStrict){i.annotate(c[g])}try{i.invoke(c[g]||s.noop,this)}catch(d){if(d.stack&&a){throw new F(d,a)}throw d}finally{a=null}}}};s.mock.inject.strictDi=function(a){a=arguments.length?!!a:true;return v()?b():b;function b(){if(a!==q.$injectorStrict){if(q.$injector){throw new Error("Injector already created, can not modify strict annotations")}else{q.$injectorStrict=a}}}}}})(window,window.angular);