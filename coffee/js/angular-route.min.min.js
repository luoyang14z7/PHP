(function(n,m,q){var l=m.module("ngRoute",["ng"]).provider("$route",k),o=m.$$minErr("ngRoute");function k(){function a(e,d){return m.extend(Object.create(e),d)}var c={};this.when=function(e,g){var f=m.copy(g);if(m.isUndefined(f.reloadOnSearch)){f.reloadOnSearch=true}if(m.isUndefined(f.caseInsensitiveMatch)){f.caseInsensitiveMatch=this.caseInsensitiveMatch}c[e]=m.extend(f,e&&b(e,f));if(e){var d=(e[e.length-1]=="/")?e.substr(0,e.length-1):e+"/";c[d]=m.extend({redirectTo:e},b(d,f))}return this};this.caseInsensitiveMatch=false;function b(e,f){var d=f.caseInsensitiveMatch,h={originalPath:e,regexp:e},g=h.keys=[];e=e.replace(/([().])/g,"\\$1").replace(/(\/)?:(\w+)([\?\*])?/g,function(A,y,z,x){var B=x==="?"?x:null;var i=x==="*"?x:null;g.push({name:z,optional:!!B});y=y||"";return""+(B?"":y)+"(?:"+(B?y:"")+(i&&"(.+?)"||"([^/]+)")+(B||"")+")"+(B||"")}).replace(/([\/$\*])/g,"\\$1");h.regexp=new RegExp("^"+e+"$",d?"i":"");return h}this.otherwise=function(d){if(typeof d==="string"){d={redirectTo:d}}this.when(null,d);return this};this.$get=["$rootScope","$location","$routeParams","$q","$injector","$templateRequest","$sce",function(F,L,E,J,g,i,G){var e=false,K,f,H={routes:c,reload:function(){e=true;F.$evalAsync(function(){h();C()})},updateParams:function(s){if(this.current&&this.current.$$route){s=m.extend({},this.current.params,s);L.path(I(this.current.$$route.originalPath,s));L.search(s)}else{throw o("norout","Tried updating route when with no current route")}}};F.$on("$locationChangeStart",h);F.$on("$locationChangeSuccess",C);return H;function D(x,w){var u=w.keys,A={};if(!w.regexp){return null}var s=w.regexp.exec(x);if(!s){return null}for(var z=1,y=s.length;z<y;++z){var v=u[z-1];var t=s[z];if(v&&t){A[v.name]=t}}return A}function h(t){var s=H.current;K=d();f=K&&s&&K.$$route===s.$$route&&m.equals(K.pathParams,s.pathParams)&&!K.reloadOnSearch&&!e;if(!f&&(s||K)){if(F.$broadcast("$routeChangeStart",K,s).defaultPrevented){if(t){t.preventDefault()}}}}function C(){var t=H.current;var s=K;if(f){t.params=s.params;m.copy(t.params,E);F.$broadcast("$routeUpdate",t)}else{if(s||t){e=false;H.current=s;if(s){if(s.redirectTo){if(m.isString(s.redirectTo)){L.path(I(s.redirectTo,s.params)).search(s.params).replace()}else{L.url(s.redirectTo(s.pathParams,L.path(),L.search())).replace()}}}J.when(s).then(function(){if(s){var u=m.extend({},s.resolve),w,v;m.forEach(u,function(x,y){u[y]=m.isString(x)?g.get(x):g.invoke(x,null,null,y)});if(m.isDefined(w=s.template)){if(m.isFunction(w)){w=w(s.params)}}else{if(m.isDefined(v=s.templateUrl)){if(m.isFunction(v)){v=v(s.params)}v=G.getTrustedResourceUrl(v);if(m.isDefined(v)){s.loadedTemplateUrl=v;w=i(v)}}}if(m.isDefined(w)){u["$template"]=w}return J.all(u)}}).then(function(u){if(s==H.current){if(s){s.locals=u;m.copy(s.params,E)}F.$broadcast("$routeChangeSuccess",s,t)}},function(u){if(s==H.current){F.$broadcast("$routeChangeError",s,t,u)}})}}}function d(){var s,t;m.forEach(c,function(v,u){if(!t&&(s=D(L.path(),v))){t=a(v,{params:m.extend({},L.search(),s),pathParams:s});t.$$route=v}});return t||c[null]&&a(c[null],{params:{},pathParams:{}})}function I(t,s){var u=[];m.forEach((t||"").split(":"),function(w,x){if(x===0){u.push(w)}else{var v=w.match(/(\w+)(?:[?*])?(.*)/);var y=v[1];u.push(s[y]);u.push(v[2]||"");delete s[y]}});return u.join("")}}]}l.provider("$routeParams",r);function r(){this.$get=function(){return{}}}l.directive("ngView",j);l.directive("ngView",p);j.$inject=["$route","$anchorScroll","$animate"];function j(a,c,b){return{restrict:"ECA",terminal:true,priority:400,transclude:"element",link:function(z,A,d,i,D){var y,g,e,f=d.autoscroll,B=d.onload||"";z.$on("$routeChangeSuccess",h);h();function C(){if(e){b.cancel(e);e=null}if(y){y.$destroy();y=null}if(g){e=b.leave(g);e.then(function(){e=null});g=null}}function h(){var w=a.current&&a.current.locals,v=w&&w.$template;if(m.isDefined(v)){var u=z.$new();var s=a.current;var t=D(u,function(x){b.enter(x,null,g||A).then(function F(){if(m.isDefined(f)&&(!f||z.$eval(f))){c()}});C()});g=t;y=s.scope=u;y.$emit("$viewContentLoaded");y.$eval(B)}else{C()}}}}}p.$inject=["$compile","$controller","$route"];function p(b,c,a){return{restrict:"ECA",priority:-400,link:function(h,i){var e=a.current,f=e.locals;i.html(f.$template);var g=b(i.contents());if(e.controller){f.$scope=h;var d=c(e.controller,f);if(e.controllerAs){h[e.controllerAs]=d}i.data("$ngControllerController",d);i.children().data("$ngControllerController",d)}g(h)}}}})(window,window.angular);